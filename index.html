<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./public/pixel-vee.png" />
    <title>Pixel V</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
    <script defer src="index.js" type="module"></script>
    <meta property="og:site_name" content="Pixel V" />
    <meta property="og:image" content="./public/link-preview.png" />
    <meta property="og:description" content="A pixel art drawing app" />
    <meta
      name="description"
      content="A web-based drawing program for pixel art"
    />
  </head>
  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-XGKLFJH336"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || []
    function gtag() {
      dataLayer.push(arguments)
    }
    gtag("js", new Date())

    gtag("config", "G-XGKLFJH336")
  </script>

  <body>
    <div id="options" class="nav">
      <div class="title">
        <a href="https://github.com/Tororoi/pixel-vee" target="_blank">
          <img src="./public/pixel-vee.png" />
        </a>
      </div>
      <ul role="menu" aria-label="functions" id="file-menu">
        <li role="menuitem" aria-haspopup="true" class="menu-folder">
          File
          <ul role="menu" id="file-submenu">
            <!-- <li role="menuitem">New</li> -->
            <li role="menuitem">Open</li>
            <li role="menuitem">Save</li>
            <li role="menuitem">Export</li>
          </ul>
        </li>
      </ul>
      <div class="nav-items">
        <div class="tool-options"></div>
        <label
          for="grid-toggle"
          id="grid"
          class="toggle"
          data-tooltip="Toggle grid on or off. Displays at higher zoom levels only."
        >
          <input type="checkbox" id="grid-toggle" />
          <span class="checkmark"></span>
          <span>Grid</span>
        </label>
        <label
          for="tooltips-toggle"
          id="tooltips"
          class="toggle"
          data-tooltip="Toggle tooltips on or off"
        >
          <input type="checkbox" checked="true" id="tooltips-toggle" />
          <span class="checkmark"></span>
          <span>Tooltips</span>
        </label>
        <div class="save">
          <div
            class="btn"
            data-tooltip="Open dialog box to download file with current progress"
          >
            <span>Save</span>
          </div>
        </div>
        <div class="open-save">
          <label
            for="drawing-upload"
            class="btn"
            data-tooltip="Open saved drawing"
          >
            <span>Open</span>
          </label>
          <input type="file" accept=".pxv" id="drawing-upload" />
        </div>
        <div class="export">
          <div class="btn" data-tooltip="Download as .png">
            <span>Export</span>
          </div>
        </div>
      </div>
    </div>
    <div class="page">
      <div class="canvas-container">
        <div class="bg-space">
          <canvas
            class="bg-canvas"
            id="background"
            width="512px"
            height="512px"
          ></canvas>
          <div class="canvas-layers"></div>
          <canvas
            class="onscreen-canvas"
            id="vector-gui-canvas"
            width="512px"
            height="512px"
          ></canvas>
        </div>
      </div>
      <div class="sidebar dialog-box draggable h-drag free locked">
        <div class="header dragger">
          <div class="drag-btn locked"><div class="grip"></div></div>
          Menu
          <label class="collapse-btn" data-tooltip="Collapse/ Expand">
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div
            class="brush-container dialog-box draggable v-drag settings-box smooth-shift"
          >
            <div class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Brush
              <label class="collapse-btn" data-tooltip="Collapse/ Expand">
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <div
                class="brush-preview btn"
                data-tooltip="Click to switch brush"
              >
                <div id="brush-preview">
                  <svg
                    class="brush-stamp"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 -0.5 1 1"
                    shape-rendering="crispEdges"
                  >
                    <path
                      stroke="rgba(255,255,255,255)"
                      d="M0 0h1M0 0h1M0 0h1M0 0h1"
                    ></path>
                  </svg>
                </div>
              </div>
              <label for="brush-size" class="brush-size"
                >Line Weight: <span id="line-weight">1</span>px
              </label>
              <input
                type="range"
                min="1"
                max="32"
                value="1"
                class="slider btn"
                id="brush-size"
                data-tooltip="Adjust brush size"
              />
              <span class="modes-title">Modes</span>
              <div class="modes-container">
                <button
                  type="button"
                  class="mode eraser"
                  id="eraser"
                  data-tooltip="Erase (E)"
                ></button
                ><button
                  type="button"
                  class="mode inject"
                  id="inject"
                  data-tooltip="Inject (I) &#010;&#010;Translucent colors will be applied directly"
                ></button
                ><button
                  type="button"
                  class="mode perfect"
                  id="perfect"
                  data-tooltip="Pixel Perfect (P)"
                ></button
                ><button
                  type="button"
                  class="mode colorMask"
                  id="colorMask"
                  data-tooltip="Color Mask (M) &#010;&#010;Only draw over selected secondary swatch color"
                ></button>
              </div>
            </div>
          </div>
          <div
            class="palette-interface dialog-box draggable v-drag settings-box smooth-shift"
          >
            <div id="palette-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Palette
              <label
                for="palette-collapse-btn"
                id="palette-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="palette-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <div class="colors">
                <div
                  class="primary swatch btn"
                  data-tooltip="Primary Swatch &#010;&#010;(R) to randomize &#010;&#010;Click to open Color Picker"
                >
                  <div class="swatch-color"></div>
                </div>
                <div
                  class="secondary back-swatch btn"
                  data-tooltip="Secondary Swatch &#010;&#010;Click to open Color Picker"
                >
                  <div class="swatch-color"></div>
                </div>
                <!-- Add weighted randomizer to lean towards certain colors -->
              </div>
              <button
                type="button"
                class="switch color-switch custom-shape"
                data-tooltip="Switch primary/ secondary colors"
              >
                <!-- <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -0.5 20 20"
                  shape-rendering="crispEdges"
                >
                  <path
                    class="outline"
                    stroke="#8d8d8d"
                    d="M6 2h1M5 3h1M7 3h1M4 4h1M8 4h1M3 5h1M9 5h1M2 6h1M10 6h1M3 7h2M8 7h2M4 8h1M8 8h1M4 9h1M8 9h1M13 9h1M5 10h1M9 10h1M12 10h1M14 10h1M5 11h1M10 11h3M15 11h1M6 12h1M16 12h1M7 13h1M17 13h1M8 14h2M16 14h1M10 15h3M15 15h1M12 16h1M14 16h1M13 17h1"
                  />
                  <path
                    stroke="#000000"
                    d="M6 3h1M5 4h3M4 5h5M3 6h7M5 7h3M5 8h3M5 9h3M6 10h3M13 10h1M6 11h4M13 11h2M7 12h9M8 13h9M10 14h6M13 15h2M13 16h1"
                  />
                </svg> -->
              </button>
              <div class="palette-container">
                <div class="palette-tools">
                  <button
                    type="button"
                    class="palette-edit"
                    data-tooltip="Palette Knife (Hold K or click on the selected color) &#010;&#010;While active, click on a swatch to edit the color."
                    aria-label="Palette Knife. While active, click on a swatch to edit the color."
                  ></button>
                  <button
                    type="button"
                    class="palette-remove"
                    data-tooltip="Palette Scraper (Hold X) &#010;&#010;While active, click on a swatch to remove it from the palette."
                    aria-label="Palette Scraper. While active, click on a swatch to remove it from the palette."
                  ></button>
                </div>
                <div class="palette-colors">
                  <div class="palette-color selected">
                    <div class="swatch" style="background: rgb(0, 0, 0)"></div>
                  </div>
                  <div class="palette-color">
                    <div
                      class="swatch"
                      style="background: rgb(255, 255, 255)"
                    ></div>
                  </div>
                  <div class="add-color plus"></div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="size-container dialog-box draggable v-drag settings-box smooth-shift"
          >
            <div id="size-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Canvas Size
              <label
                for="size-collapse-btn"
                id="size-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="size-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <form class="dimensions-form">
                <div class="inputs">
                  <label for="canvas-width"
                    >Width:
                    <span class="input">
                      <input
                        type="number"
                        id="canvas-width"
                        min="8"
                        max="1024"
                      />
                      <span class="spin-btn">
                        <span id="inc" class="channel-btn"
                          ><span class="spin-content">+</span></span
                        >
                        <span id="dec" class="channel-btn"
                          ><span class="spin-content">-</span></span
                        >
                      </span>
                    </span>
                  </label>
                  <label for="canvas-height"
                    >Height:
                    <span class="input">
                      <input
                        type="number"
                        id="canvas-height"
                        min="8"
                        max="1024"
                      />
                      <span class="spin-btn">
                        <span id="inc" class="channel-btn"
                          ><span class="spin-content">+</span></span
                        >
                        <span id="dec" class="channel-btn"
                          ><span class="spin-content">-</span></span
                        >
                      </span>
                    </span>
                  </label>
                </div>
                <button type="submit" id="update-size" class="update-size btn">
                  Update Canvas Size
                </button>
              </form>
            </div>
          </div>
          <div
            class="layers-interface dialog-box draggable v-drag settings-box smooth-shift"
          >
            <div id="layers-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Layers
              <label
                for="layers-collapse-btn"
                id="layers-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="layers-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <div class="layers-control">
                <div class="add-layer" data-tooltip="New Layer"></div>
                <label
                  for="file-upload"
                  class="reference"
                  data-tooltip="New Reference"
                >
                </label>
                <input type="file" id="file-upload" />
              </div>
              <div class="layers-container">
                <div class="layers">
                  <div class="layer raster selected" id="0" draggable="true">
                    Layer 1
                    <button type="button" class="hide eyeopen"></button>
                    <button type="button" class="trash"></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="vectors-interface dialog-box draggable v-drag settings-box smooth-shift"
          >
            <div id="vectors-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Vectors
              <label
                for="vectors-collapse-btn"
                id="vectors-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="vectors-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <div class="vectors-container">
                <div class="vectors"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="toolbox dialog-box draggable h-drag free locked">
        <div id="toolbox-header" class="header dragger">
          <div class="drag-btn locked"><div class="grip"></div></div>
          Toolbox
          <label
            for="toolbox-collapse-btn"
            id="toolbox-collapser"
            class="collapse-btn"
            data-tooltip="Collapse/ Expand"
          >
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
              id="toolbox-collapse-btn"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div class="btn-pair">
            <button
              type="button"
              class="tool undo custom-shape"
              id="undo"
              data-tooltip="Undo (Cmd + Z)"
            />
            <button
              type="button"
              class="tool redo custom-shape"
              id="redo"
              data-tooltip="Redo (Cmd + Shift + Z)"
            />
          </div>
          <div class="btn-pair">
            <button
              type="button"
              class="tool recenter custom-shape"
              data-tooltip="Recenter Canvas"
            />
            <button
              type="button"
              class="tool clear custom-shape"
              data-tooltip="Clear Canvas"
            />
          </div>
          <div class="zoom btn-pair">
            <button
              type="button"
              id="minus"
              class="zoombtn minus"
              data-tooltip="Zoom Out (Mouse Wheel)"
            />
            <button
              type="button"
              id="plus"
              class="zoombtn plus"
              data-tooltip="Zoom In (Mouse Wheel)"
            />
          </div>
          <div class="tools">
            <h4>Tools</h4>
            <div class="columns">
              <div class="column">
                <button
                  type="button"
                  class="tool brush selected"
                  id="brush"
                  data-tooltip="Brush (B)"
                ></button>
                <button
                  type="button"
                  class="tool fill"
                  id="fill"
                  data-tooltip="Fill (F)"
                />
                <button
                  type="button"
                  class="tool line"
                  id="line"
                  data-tooltip="Line (L or Hold Shift & Brush)"
                />
                <button
                  type="button"
                  class="tool quadCurve"
                  id="quadCurve"
                  data-tooltip="Quadratic Curve (C)"
                />
                <button
                  type="button"
                  class="tool cubicCurve"
                  id="cubicCurve"
                  data-tooltip="Cubic Curve (J)"
                />
                <button
                  type="button"
                  class="tool ellipse"
                  id="ellipse"
                  data-tooltip="Ellipse (O) &#010;&#010;Hold Shift to maintain circle"
                />
                <!-- <button
                type="button"
                class="tool btn"
                id="select"
                data-tooltip="Select (M)"
              >
                <div class="select"></div>
              </button> -->
              </div>
              <div class="column">
                <button
                  type="button"
                  class="tool eyedropper"
                  id="eyedropper"
                  data-tooltip="Eyedropper (Hold Alt)"
                />
                <button
                  type="button"
                  class="tool grab"
                  id="grab"
                  data-tooltip="Grab (Hold Space)"
                />
                <button
                  type="button"
                  class="tool move"
                  id="move"
                  data-tooltip="Move"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="picker-container dialog-box draggable v-drag h-drag free">
        <div id="picker-header" class="header dragger">
          <div class="drag-btn"><div class="grip"></div></div>
          <span>Color Picker</span>
          <label
            for="picker-collapse-btn"
            id="picker-collapser"
            class="collapse-btn"
            data-tooltip="Collapse/ Expand"
          >
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
              id="picker-collapse-btn"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div id="picker-interface" class="picker-interface">
            <div id="left">
              <div id="picker">
                <canvas id="color-picker"></canvas>
                <div class="slider-container">
                  <input
                    class="picker-slider"
                    type="range"
                    id="hueslider"
                    name="hue"
                    value="0"
                    min="0"
                    max="359"
                  />
                  <input
                    class="picker-slider"
                    type="range"
                    id="alphaslider"
                    name="opacity"
                    value="255"
                    min="0"
                    max="255"
                  />
                </div>
              </div>
              <div id="buttons">
                <div class="btn" id="confirm-btn">OK</div>
                <div class="btn" id="cancel-btn">Cancel</div>
              </div>
            </div>
            <div id="right">
              <div id="colors">
                <div class="color">
                  <h5>New</h5>
                  <div class="swatch btn" id="newcolor-btn">
                    <div class="swatch-color" id="newcolor"></div>
                  </div>
                </div>
                <div class="color">
                  <h5>Old</h5>
                  <div class="swatch btn" id="oldcolor-btn">
                    <div class="swatch-color" id="oldcolor"></div>
                  </div>
                </div>
              </div>
              <div id="rgbahsl">
                <div id="rgba-container" class="channel-container">
                  <label
                    >R:
                    <input type="number" id="r" min="0" max="255" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      >
                    </span>
                  </label>
                  <label
                    >G:
                    <input type="number" id="g" min="0" max="255" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      >
                    </span>
                  </label>
                  <label
                    >B:
                    <input type="number" id="b" min="0" max="255" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      >
                    </span>
                  </label>
                  <label
                    >A:
                    <input type="number" id="a" min="0" max="255" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      >
                    </span>
                  </label>
                </div>
                <div id="hsl-container" class="channel-container">
                  <label
                    >H:
                    <input type="number" id="h" min="0" max="359" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      >
                    </span>
                  </label>
                  <label
                    >S:
                    <input type="number" id="s" min="0" max="100" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      >
                    </span>
                  </label>
                  <label
                    >L:
                    <input type="number" id="l" min="0" max="100" />
                    <span class="spin-btn">
                      <span id="inc" class="channel-btn"
                        ><span class="spin-content">+</span></span
                      >
                      <span id="dec" class="channel-btn"
                        ><span class="spin-content">-</span></span
                      ></span
                    >
                  </label>
                </div>
              </div>
              <label id="hex"
                >Hex:
                <input type="string" id="hexcode" />
              </label>
              <label id="lumi"
                >Luminance:
                <input type="number" id="luminance" />
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="export-container dialog-box draggable v-drag h-drag free">
        <div id="export-header" class="header dragger">
          <div class="drag-btn"><div class="grip"></div></div>
          <span>Export</span>
          <label
            for="export-collapse-btn"
            id="export-collapser"
            class="collapse-btn"
            data-tooltip="Collapse/ Expand"
          >
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
              id="export-collapse-btn"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div id="export-interface" class="export-interface">
            <!-- Select pixel scale and export folder location -->
          </div>
        </div>
      </div>
      <div class="save-container dialog-box draggable v-drag h-drag free">
        <div id="save-header" class="header dragger">
          <div class="drag-btn"><div class="grip"></div></div>
          <span>Save Options</span>
          <label
            for="save-collapse-btn"
            id="save-collapser"
            class="collapse-btn"
            data-tooltip="Collapse/ Expand"
          >
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
              id="save-collapse-btn"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <form id="save-interface" class="save-interface">
            <!-- File name input -->
            <div class="save-setting">
              <label for="save-file-name" class="save-file-name-label"
                ><span class="input-label">Save As:</span
                ><input
                  type="text"
                  id="save-file-name"
                  name="save-file-name"
                  placeholder="my drawing"
                  maxlength="16"
                /><span>.pxv</span></label
              >
            </div>

            <!-- filesize preview-->
            <div id="filesize-preview" class="save-setting">
              <span>Filesize:&nbsp;</span><span id="savefile-size"></span>
            </div>

            <!-- checkbox for "Include Backup Image"-->
            <!-- <div class="save-setting">
              <label
                for="backup-image-toggle"
                id="backup-image"
                class="toggle"
                data-tooltip="Include backup image with savefile (increases filesize)"
              >
                <input
                  type="checkbox"
                  id="backup-image-toggle"
                  name="backup-image"
                />
                <span class="checkmark"></span>
                <span>Include Backup Image</span>
              </label>
            </div> -->

            <!-- checkbox for "Preserve Entire History"-->
            <div class="save-setting">
              <label
                for="preserve-history-toggle"
                id="preserve-history"
                class="toggle"
                data-tooltip="Preserve all actions in history, palette, and reference images"
              >
                <input
                  type="checkbox"
                  id="preserve-history-toggle"
                  name="preserve-history"
                  checked
                />
                <span class="checkmark"></span>
                <span>Preserve Entire History</span>
              </label>
            </div>

            <div class="advanced-options disabled" id="save-advanced-options">
              <!-- checkbox for "Include Palette"-->
              <div class="save-setting">
                <label
                  for="include-palette-toggle"
                  id="include-palette"
                  class="toggle"
                  data-tooltip="Save colors in palette"
                >
                  <input
                    type="checkbox"
                    id="include-palette-toggle"
                    name="include-palette"
                    checked
                  />
                  <span class="checkmark"></span>
                  <span>Palette</span>
                </label>
              </div>

              <!-- checkbox for "Include Reference Layers"-->
              <div class="save-setting">
                <label
                  for="include-reference-layers-toggle"
                  id="include-reference-layers"
                  class="toggle"
                  data-tooltip="Save all reference images, including any transformations applied to them."
                >
                  <input
                    type="checkbox"
                    id="include-reference-layers-toggle"
                    name="include-reference-layers"
                    checked
                  />
                  <span class="checkmark"></span>
                  <span>Reference Layers</span>
                </label>
              </div>

              <!-- checkbox for "Include Removed Actions"-->
              <div class="save-setting">
                <label
                  for="include-removed-actions-toggle"
                  id="include-removed-actions"
                  class="toggle"
                  data-tooltip="If a layer or vector was trashed or layer was cleared, those actions are still recoverable by using undo. If you're certain those actions won't be missed, you can remove them permanently by unchecking this box."
                >
                  <input
                    type="checkbox"
                    id="include-removed-actions-toggle"
                    name="include-removed-actions"
                    checked
                  />
                  <span class="checkmark"></span>
                  <span>Removed Actions</span>
                </label>
              </div>
            </div>

            <div class="save-buttons">
              <!-- save button -->
              <button type="button" id="save-button" class="btn">Save</button>

              <!-- cancel button -->
              <button type="button" id="cancel-save-button" class="btn">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="tooltip" class="tooltip"></div>
  </body>
</html>
