<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./public/pixel-vee.png" />
    <title>Pixel V</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
    <script defer src="index.js" type="module"></script>
    <meta property="og:site_name" content="Pixel V" />
    <meta property="og:image" content="./public/link-preview.png" />
    <meta property="og:description" content="A pixel art drawing app" />
    <meta
      name="description"
      content="A web-based drawing program for pixel art"
    />
  </head>
  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-XGKLFJH336"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || []
    function gtag() {
      dataLayer.push(arguments)
    }
    gtag("js", new Date())

    gtag("config", "G-XGKLFJH336")
  </script>

  <body>
    <div id="preload-container"></div>
    <div id="options" class="nav">
      <div class="title">
        <a href="https://github.com/Tororoi/pixel-vee" target="_blank">
          <img src="./public/pixel-vee.png" />
        </a>
      </div>
      <div class="nav-items">
        <label
          for="grid-toggle"
          id="grid"
          class="toggle"
          data-tooltip="Toggle grid on or off. Displays at higher zoom levels only."
        >
          <input type="checkbox" id="grid-toggle" />
          <span class="checkmark"></span>
          Grid
        </label>
        <label
          for="tooltips-toggle"
          id="tooltips"
          class="toggle"
          data-tooltip="Toggle tooltips on or off"
        >
          <input type="checkbox" checked="true" id="tooltips-toggle" />
          <span class="checkmark"></span>
          Tooltips
        </label>
        <div class="export">
          <div class="btn" data-tooltip="Download as .png">Export</div>
        </div>
      </div>
    </div>
    <div class="page">
      <div class="canvas-container">
        <div class="bg-space">
          <canvas
            class="bg-canvas"
            id="background"
            width="512px"
            height="512px"
          ></canvas>
          <div class="canvas-layers"></div>
          <canvas
            class="gui"
            id="vectorGui"
            width="512px"
            height="512px"
          ></canvas>
        </div>
      </div>
      <div class="sidebar draggable h-drag free locked">
        <div class="header dragger">
          <div class="drag-btn locked"><div class="grip"></div></div>
          Menu
          <label class="collapse-btn" data-tooltip="Collapse/ Expand">
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div
            class="brush-container draggable v-drag settings-box smooth-shift"
          >
            <div class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Brush
              <label class="collapse-btn" data-tooltip="Collapse/ Expand">
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <label for="brush-size" class="brush-size"
                >Line Weight: <span id="line-weight">1</span>px
              </label>
              <div
                class="brush-preview btn"
                data-tooltip="Click to switch brush"
              >
                <div id="brush-preview">
                  <svg
                    class="brush-stamp"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 -0.5 1 1"
                    shape-rendering="crispEdges"
                  >
                    <path
                      stroke="rgba(255,255,255,255)"
                      d="M0 0h1M0 0h1M0 0h1M0 0h1"
                    ></path>
                  </svg>
                </div>
              </div>
              <input
                type="range"
                min="1"
                max="32"
                value="1"
                class="slider btn"
                id="brush-size"
                data-tooltip="Adjust brush size"
              />
            </div>
          </div>
          <div
            class="palette-interface draggable v-drag settings-box smooth-shift"
          >
            <div id="palette-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Palette
              <label
                for="palette-collapse-btn"
                id="palette-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="palette-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <div class="colors">
                <div
                  class="primary swatch btn"
                  data-tooltip="Swatch (R) to randomize &#010;&#010;Click to open Color Picker"
                >
                  <div class="swatch-color"></div>
                </div>
                <div
                  class="secondary back-swatch btn"
                  data-tooltip="Click to open Color Picker"
                >
                  <div class="swatch-color"></div>
                </div>
                <!-- Add weighted randomizer to lean towards certain colors -->
              </div>
              <div
                class="color-switch custom-shape btn"
                data-tooltip="Switch primary/ secondary colors"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -0.5 20 20"
                  shape-rendering="crispEdges"
                >
                  <path
                    class="outline"
                    stroke="#8d8d8d"
                    d="M6 2h1M5 3h1M7 3h1M4 4h1M8 4h1M3 5h1M9 5h1M2 6h1M10 6h1M3 7h2M8 7h2M4 8h1M8 8h1M4 9h1M8 9h1M13 9h1M5 10h1M9 10h1M12 10h1M14 10h1M5 11h1M10 11h3M15 11h1M6 12h1M16 12h1M7 13h1M17 13h1M8 14h2M16 14h1M10 15h3M15 15h1M12 16h1M14 16h1M13 17h1"
                  />
                  <path
                    stroke="#000000"
                    d="M6 3h1M5 4h3M4 5h5M3 6h7M5 7h3M5 8h3M5 9h3M6 10h3M13 10h1M6 11h4M13 11h2M7 12h9M8 13h9M10 14h6M13 15h2M13 16h1"
                  />
                </svg>
              </div>
              <div class="palette-container">
                <div class="palette-tools">
                  <div
                    class="palette-edit"
                    data-tooltip="Palette Knife (Hold K or click on the selected color) &#010;&#010;Click on a swatch to edit the color."
                  >
                    <div class="icon"></div>
                  </div>
                  <div
                    class="palette-remove"
                    data-tooltip="Palette Scraper (Hold X) &#010;&#010; Click on a swatch to remove it from the palette."
                  >
                    <div class="icon"></div>
                  </div>
                </div>
                <div class="palette-colors">
                  <!-- <div class="palette-color">
                  <div class="swatch"></div>
                </div>
                <div class="palette-color">
                  <div class="swatch"></div>
                </div> -->
                </div>
                <!-- <div class="add-color">
                  <div class="icon">
                  </div>
                </div> -->
              </div>
            </div>
          </div>
          <div
            class="size-container draggable v-drag settings-box smooth-shift"
          >
            <div id="size-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Canvas Size
              <label
                for="size-collapse-btn"
                id="size-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="size-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <form class="dimensions-form">
                <div class="inputs">
                  <label for="canvas-width"
                    >Width:
                    <span class="input">
                      <input
                        type="number"
                        id="canvas-width"
                        min="8"
                        max="1024"
                      />
                      <span class="sliderbox">
                        <span id="inc" class="channel-btn">
                          <p>+</p>
                        </span>
                        <span id="dec" class="channel-btn">
                          <p>-</p>
                        </span>
                      </span>
                    </span>
                  </label>
                  <label for="canvas-height"
                    >Height:
                    <span class="input">
                      <input
                        type="number"
                        id="canvas-height"
                        min="8"
                        max="1024"
                      />
                      <span class="sliderbox">
                        <span id="inc" class="channel-btn">
                          <p>+</p>
                        </span>
                        <span id="dec" class="channel-btn">
                          <p>-</p>
                        </span>
                      </span>
                    </span>
                  </label>
                </div>
                <button type="submit" id="update-size" class="update-size btn">
                  Update Canvas Size
                </button>
              </form>
            </div>
          </div>
          <div
            class="layers-interface draggable v-drag settings-box smooth-shift"
          >
            <div id="layers-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Layers
              <label
                for="layers-collapse-btn"
                id="layers-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="layers-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <div class="layers-control">
                <div class="new-raster-layer" data-tooltip="New Layer"></div>
                <label
                  for="file-upload"
                  class="custom-file-upload"
                  data-tooltip="New Reference"
                >
                </label>
                <input type="file" id="file-upload" />
              </div>
              <div class="layers-container">
                <div class="layers"></div>
              </div>
            </div>
          </div>
          <div
            class="vectors-interface draggable v-drag settings-box smooth-shift"
          >
            <div id="vectors-header" class="header dragger">
              <div class="drag-btn"><div class="grip"></div></div>
              Vectors
              <label
                for="vectors-collapse-btn"
                id="vectors-collapser"
                class="collapse-btn"
                data-tooltip="Collapse/ Expand"
              >
                <input
                  type="checkbox"
                  aria-label="Collapse or Expand"
                  class="collapse-checkbox"
                  id="vectors-collapse-btn"
                />
                <span class="arrow"></span>
              </label>
            </div>
            <div class="collapsible">
              <!-- <div class="vectors-control">
                <label id="thumbnail-toggle-btn" class="thumbnail-style btn" data-tooltip="Toggle Thumbnail Style">
                  <input type="checkbox" aria-label="Toggle Thumbnail Style" class="thumbnail-checkbox" id="thumbnail-toggle"></input>
                  <div class="icon"></div>
                </label>
              </div> -->
              <div class="vectors-container">
                <div class="vectors"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="toolbox draggable h-drag free locked">
        <div id="toolbox-header" class="header dragger">
          <div class="drag-btn locked"><div class="grip"></div></div>
          Toolbox
          <label
            for="toolbox-collapse-btn"
            id="toolbox-collapser"
            class="collapse-btn"
            data-tooltip="Collapse/ Expand"
          >
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
              id="toolbox-collapse-btn"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div class="btn-pair">
            <button
              type="button"
              class="tool undo custom-shape"
              id="undo"
              data-tooltip="Undo (Cmd + Z)"
            />
            <button
              type="button"
              class="tool redo custom-shape"
              id="redo"
              data-tooltip="Redo (Cmd + Shift + Z)"
            />
          </div>
          <div class="btn-pair">
            <button
              type="button"
              class="tool recenter custom-shape"
              data-tooltip="Recenter Canvas"
            />
            <button
              type="button"
              class="tool clear custom-shape"
              data-tooltip="Clear Canvas"
            />
          </div>
          <div class="zoom btn-pair">
            <button
              type="button"
              id="minus"
              class="zoombtn minus"
              data-tooltip="Zoom Out (Mouse Wheel)"
            />
            <button
              type="button"
              id="plus"
              class="zoombtn plus"
              data-tooltip="Zoom In (Mouse Wheel)"
            />
          </div>
          <div class="columns">
            <div class="tools column">
              <h4>Tool</h4>
              <button
                type="button"
                class="tool brush"
                id="brush"
                data-tooltip="Brush (B)"
              />
              <button
                type="button"
                class="tool replace"
                id="replace"
                data-tooltip="Replace (M) &#010;&#010;Replace secondary color with primary color"
              />
              <button
                type="button"
                class="tool fill"
                id="fill"
                data-tooltip="Fill (F)"
              />
              <button
                type="button"
                class="tool line"
                id="line"
                data-tooltip="Line (L or Hold Shift & Brush)"
              />
              <button
                type="button"
                class="tool quadCurve"
                id="quadCurve"
                data-tooltip="Quadratic Curve (C)"
              />
              <button
                type="button"
                class="tool cubicCurve"
                id="cubicCurve"
                data-tooltip="Cubic Curve (J)"
              />
              <button
                type="button"
                class="tool ellipse"
                id="ellipse"
                data-tooltip="Ellipse (O) &#010;&#010;Hold Shift to maintain circle"
              />
              <!-- <button
                type="button"
                class="tool btn"
                id="select"
                data-tooltip="Select (M)"
              >
                <div class="select"></div>
              </button> -->
              <button
                type="button"
                class="tool eyedropper"
                id="eyedropper"
                data-tooltip="Eyedropper (Hold Alt)"
              />
              <button
                type="button"
                class="tool grab"
                id="grab"
                data-tooltip="Grab (Hold Space)"
              />
              <button
                type="button"
                class="tool move"
                id="move"
                data-tooltip="Move"
              />
            </div>
            <div class="modes column">
              <h4>Mode</h4>
              <button
                type="button"
                class="mode pencil"
                id="draw"
                data-tooltip="Draw (D)"
              />
              <button
                type="button"
                class="mode eraser"
                id="erase"
                data-tooltip="Erase (E)"
              />
              <!-- Change to option instead -->
              <button
                type="button"
                class="mode mechanical"
                id="perfect"
                data-tooltip="Pixel Perfect (P)"
              />
              <button
                type="button"
                class="mode inject"
                id="inject"
                data-tooltip="Inject (I) &#010;&#010;Translucent colors will be applied directly"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="picker-container draggable v-drag h-drag free">
        <div id="picker-header" class="header dragger">
          <div class="drag-btn"><div class="grip"></div></div>
          <span>Color Picker</span>
          <label
            for="picker-collapse-btn"
            id="picker-collapser"
            class="collapse-btn"
            data-tooltip="Collapse/ Expand"
          >
            <input
              type="checkbox"
              aria-label="Collapse or Expand"
              class="collapse-checkbox"
              id="picker-collapse-btn"
            />
            <span class="arrow"></span>
          </label>
        </div>
        <div class="collapsible">
          <div id="interface" class="picker-interface">
            <div id="left">
              <div id="picker">
                <canvas id="color-picker"></canvas>
                <div class="slider-container">
                  <input
                    class="picker-slider"
                    type="range"
                    id="hueslider"
                    name="hue"
                    value="0"
                    min="0"
                    max="359"
                  />
                  <input
                    class="picker-slider"
                    type="range"
                    id="alphaslider"
                    name="opacity"
                    value="255"
                    min="0"
                    max="255"
                  />
                </div>
              </div>
              <div id="buttons">
                <div class="btn" id="confirm-btn">OK</div>
                <div class="btn" id="cancel-btn">Cancel</div>
              </div>
            </div>
            <div id="right">
              <div id="colors">
                <div class="color">
                  <h5>New</h5>
                  <div class="swatch btn" id="newcolor-btn">
                    <div class="swatch-color" id="newcolor"></div>
                  </div>
                </div>
                <div class="color">
                  <h5>Old</h5>
                  <div class="swatch btn" id="oldcolor-btn">
                    <div class="swatch-color" id="oldcolor"></div>
                  </div>
                </div>
              </div>
              <div id="rgbahsl">
                <div id="rgba-container" class="channel-container">
                  <label
                    >R:
                    <input type="number" id="r" min="0" max="255" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span>
                    </span>
                  </label>
                  <label
                    >G:
                    <input type="number" id="g" min="0" max="255" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span></span
                    >
                  </label>
                  <label
                    >B:
                    <input type="number" id="b" min="0" max="255" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span></span
                    >
                  </label>
                  <label
                    >A:
                    <input type="number" id="a" min="0" max="255" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span></span
                    >
                  </label>
                </div>
                <div id="hsl-container" class="channel-container">
                  <label
                    >H:
                    <input type="number" id="h" min="0" max="359" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span></span
                    >
                  </label>
                  <label
                    >S:
                    <input type="number" id="s" min="0" max="100" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span></span
                    >
                  </label>
                  <label
                    >L:
                    <input type="number" id="l" min="0" max="100" />
                    <span class="sliderbox">
                      <span id="inc" class="channel-btn">
                        <p>+</p>
                      </span>
                      <span id="dec" class="channel-btn">
                        <p>-</p>
                      </span></span
                    >
                  </label>
                </div>
              </div>
              <label id="hex"
                >Hex:
                <input type="string" id="hexcode" />
              </label>
              <label id="lumi"
                >Luminance:
                <input type="number" id="luminance" />
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="tooltip" class="tooltip"></div>
  </body>
</html>
